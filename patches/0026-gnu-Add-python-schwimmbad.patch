From 2c9f65175b8c269886d60b946ec38d9999f7a088 Mon Sep 17 00:00:00 2001
Message-ID: <2c9f65175b8c269886d60b946ec38d9999f7a088.1718966788.git.sharlatanus@gmail.com>
In-Reply-To: <cover.1718966788.git.sharlatanus@gmail.com>
References: <cover.1718966788.git.sharlatanus@gmail.com>
From: Sharlatan Hellseher <sharlatanus@gmail.com>
Date: Fri, 14 Jun 2024 07:56:41 +0100
Subject: [PATCH 26/30] gnu: Add python-schwimmbad.

* gnu/packages/parallel.scm (python-schwimmbad): New variable.

Change-Id: Ica4bc3989222e3d70e7cfc170bcca953353f8259
---
 gnu/packages/parallel.scm | 29 +++++++++++++++++++++++++++++
 1 file changed, 29 insertions(+)

diff --git a/gnu/packages/parallel.scm b/gnu/packages/parallel.scm
index 84436eaeac..a3ee60d568 100644
--- a/gnu/packages/parallel.scm
+++ b/gnu/packages/parallel.scm
@@ -36,6 +36,7 @@ (define-module (gnu packages parallel)
   #:use-module (guix build-system cmake)
   #:use-module (guix build-system gnu)
   #:use-module (guix build-system python)
+  #:use-module (guix build-system pyproject)
   #:use-module ((guix licenses) #:prefix license:)
   #:use-module ((guix utils) #:select (target-64bit?))
   #:use-module (guix packages)
@@ -56,6 +57,7 @@ (define-module (gnu packages parallel)
   #:use-module (gnu packages perl)
   #:use-module (gnu packages pkg-config)
   #:use-module (gnu packages python)
+  #:use-module (gnu packages python-build)
   #:use-module (gnu packages python-science)
   #:use-module (gnu packages python-xyz)
   #:use-module (gnu packages readline)
@@ -410,6 +412,33 @@ (define-public slurm-drmaa
 cluster/resource management systems.")
     (license license:gpl3+)))
 
+(define-public python-schwimmbad
+  (package
+    (name "python-schwimmbad")
+    (version "0.4.2")
+    (source
+     (origin
+       (method url-fetch)
+       (uri (pypi-uri "schwimmbad" version))
+       (sha256
+        (base32 "1aac1rswb0r0vzbxvjj2jyx5j0vqyjj7mygc71n9zbkpmr8m1rpg"))))
+    (build-system pyproject-build-system)
+    (propagated-inputs
+     (list python-dill
+           python-joblib
+           python-mpi4py
+           python-multiprocess))
+    (native-inputs
+     (list python-hatch-vcs python-hatchling python-pytest))
+    (home-page "https://github.com/adrn/schwimmbad")
+    (synopsis "Common interface for parallel processing pools")
+    (description
+     "@code{schwimmbad} provides a uniform interface to parallel processing
+pools and enables switching easily between local development (e.g., serial
+processing or with @code{multiprocessing}) and deployment on a cluster or
+supercomputer (via, e.g., MPI or JobLib).")
+    (license license:expat)))
+
 (define-public python-slurm-magic
   (let ((commit "73dd1a2b85799f7dae4b3f1cd9027536eff0c4d7")
         (revision "0"))
-- 
2.41.0

